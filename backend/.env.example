# Backend Environment Configuration
# Copy this file to .env and fill in your values
# Environment: development, staging, or production

# ===========================================
# APPLICATION
# ===========================================
APP_NAME=Code Intelligence Backend
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ===========================================
# SERVER
# ===========================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# ===========================================
# CORS - Allowed Origins
# ===========================================
# Format: comma-separated URLs
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ===========================================
# QDRANT - Vector Database
# ===========================================
# Local development
QDRANT_URL=http://localhost:6333

# Production: Use Qdrant Cloud
# QDRANT_URL=https://your-cluster-id.qdrant.io
# QDRANT_API_KEY=your_api_key

QDRANT_COLLECTION_NAME=code_chunks

# ===========================================
# EMBEDDINGS
# ===========================================
EMBEDDING_MODEL=microsoft/codebert-base
EMBEDDING_DIMENSION=768
EMBEDDING_DEVICE=cpu  # Options: cpu, cuda, mps (for Apple Silicon)

# ===========================================
# SEARCH CONFIGURATION
# ===========================================
DEFAULT_TOP_K=10
MAX_TOP_K=100
MIN_SCORE=0.3

# ===========================================
# RATE LIMITING
# ===========================================
# Disabled by default for development
# Enable in production with RATE_LIMIT_ENABLED=true
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ===========================================
# AUTHENTICATION
# ===========================================
# Disabled by default for development
# Enable in production with AUTH_ENABLED=true
AUTH_ENABLED=false

# API Keys (JSON format): {"dev-key": "dev-secret", "prod-key": "prod-secret"}
# API_KEYS={}

# JWT Configuration (required if AUTH_ENABLED=true)
# JWT_SECRET=your-super-secret-key-change-in-production
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_HOURS=24

# ===========================================
# REDIS - Caching & Queue (Optional)
# ===========================================
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# ===========================================
# CELERY - Async Tasks (Optional)
# ===========================================
CELERY_ENABLED=false
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ===========================================
# MONITORING & ERROR TRACKING
# ===========================================
SENTRY_ENABLED=false
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

PROMETHEUS_ENABLED=false

# ===========================================
# FILE UPLOAD
# ===========================================
MAX_REPO_SIZE_MB=500
TEMP_DIR=/tmp

# ===========================================
# EXAMPLE PRODUCTION CONFIGURATION
# ===========================================
# APP_ENV=production
# DEBUG=false
# LOG_LEVEL=WARNING
# WORKERS=8
# RELOAD=false
# 
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# 
# QDRANT_URL=https://your-cluster-id.qdrant.io
# QDRANT_API_KEY=your_qdrant_api_key
# 
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_REQUESTS=1000
# RATE_LIMIT_WINDOW=60
# 
# AUTH_ENABLED=true
# JWT_SECRET=your-production-secret-key
# 
# REDIS_ENABLED=true
# REDIS_URL=redis://redis-host:6379/0
# 
# CELERY_ENABLED=true
# CELERY_BROKER_URL=redis://redis-host:6379/1
# 
# SENTRY_ENABLED=true
# SENTRY_DSN=https://your-sentry-dsn
# 
# PROMETHEUS_ENABLED=true
